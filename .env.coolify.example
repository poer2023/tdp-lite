# Coolify deploy context (see: coolify context list)
COOLIFY_CONTEXT=tdp

# Deployment mode: cli | api
COOLIFY_DEPLOY_MODE=cli

# Targets: lite | api | publisher | all | lite,api,publisher
COOLIFY_TARGETS=lite

# Explicit resource UUIDs (recommended for stability)
COOLIFY_LITE_UUID=rkks4coo4sw808004ocg0kcc
COOLIFY_API_APP_UUID=
COOLIFY_PUBLISHER_UUID=
COOLIFY_SERVER_UUID=jogsk0ggcwgk88kok4gokwsw
COOLIFY_PROJECT_UUID=ykgg80o4kc008s4wgg8k8wow
COOLIFY_ENVIRONMENT_UUID=tksk4g8w48cs00wok84s8gkg
# Optional fallback for Coolify versions where environment UUID create is not accepted
COOLIFY_ENVIRONMENT_NAME=production

# Optional name-based auto-discovery fallback
COOLIFY_LITE_NAME=tdp-lite
COOLIFY_API_APP_NAME=tdp-lite-api,lite-api
COOLIFY_PUBLISHER_NAME=tdp-publisher

# Behavior controls
COOLIFY_FORCE=false
COOLIFY_WAIT=true
COOLIFY_TIMEOUT_SECONDS=900
COOLIFY_POLL_SECONDS=8
COOLIFY_HEALTH_STRICT=true
# When deploying targets=all, publisher failures won't fail the whole command.
COOLIFY_PUBLISHER_OPTIONAL_IN_ALL=true

# Optional health checks after deployment
COOLIFY_LITE_HEALTH_URL=
COOLIFY_API_HEALTH_URL=
COOLIFY_PUBLISHER_HEALTH_URL=

# Publisher bootstrap (single-repo, separate app)
COOLIFY_REPO_URL=https://github.com/poer2023/tdp-lite
COOLIFY_REPO_BRANCH=main
COOLIFY_PUBLISHER_BASE_DIRECTORY=/publisher
COOLIFY_PUBLISHER_PORT=3100
COOLIFY_PUBLISHER_HEALTH_PATH=/
# If empty, ensure-publisher auto-resolves from COOLIFY_API_APP_UUID / COOLIFY_API_APP_NAME.
# Must point to Go API service (e.g. https://tdp-lite-api.example.com), not frontend URL.
COOLIFY_PUBLISH_TARGET_BASE_URL=
NEXT_PUBLIC_PUBLISHER_URL=
TDP_INTERNAL_KEY_ID=
TDP_INTERNAL_KEY_SECRET=
COOLIFY_REDEPLOY_ON_ENV_SYNC=true

# Optional profile snapshot sync env (for separate sync container)
PROFILE_SYNC_INTERVAL_HOURS=24
PROFILE_SYNC_TIMEOUT_MS=20000
GITHUB_SYNC_API_BASE=https://api.github.com
GITHUB_SYNC_USERNAME=
GITHUB_SYNC_TOKEN=
GITHUB_SYNC_WINDOW_DAYS=36
GITHUB_SYNC_MAX_PAGES=4
APPLE_MUSIC_API_BASE=https://api.music.apple.com/v1
APPLE_MUSIC_DEVELOPER_TOKEN=
APPLE_MUSIC_USER_TOKEN=
APPLE_MUSIC_STOREFRONT=us
APPLE_MUSIC_SYNC_LIMIT=25

# API mode creds (only needed if COOLIFY_DEPLOY_MODE=api)
COOLIFY_API_URL=
COOLIFY_API_TOKEN=
